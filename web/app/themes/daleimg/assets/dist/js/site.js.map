{"version":3,"file":"site.js","sources":["../../src/js/components/_components.site-navigation.js"],"sourcesContent":["(function () {\n  if (navigator.userAgent.indexOf('Android') > -1) {\n    document.documentElement.classList.add('t-android');\n  }\n\n  function createButton() {\n    var button = document.createElement('button');\n    button.classList.add('c-site-navigation__menu-button');\n    button.setAttribute('aria-expanded', false);\n    button.setAttribute('aria-label', 'Main Menu');\n    button.setAttribute('aria-controls', 'site-menu');\n    button.setAttribute('id', 'menu-menu-toggle');\n    return button;\n  }\n\n  function createOverlay() {\n    var overlay = document.createElement('label');\n    overlay.classList.add('c-site-navigation__menu-button-label');\n    overlay.setAttribute('aria-hidden', true);\n    overlay.setAttribute('for', 'menu-menu-toggle');\n    return overlay;\n  }\n\n  var menuLink = document.querySelector('.js-site-nav-menu-link');\n  var button = createButton();\n  var overlay = createOverlay();\n\n  var menuLinkParent = menuLink.parentElement;\n  var navList = menuLinkParent.nextElementSibling;\n  menuLinkParent.replaceChild(button, menuLink);\n  menuLinkParent.appendChild(overlay);\n\n  var transitioning = false;\n  var expanded = false;\n\n  function toggleMenu() {\n    if (!transitioning) {\n      transitioning = true;\n\n      if (expanded) {\n        hideMenu();\n      } else {\n        showMenu();\n      }\n    }\n  }\n\n  function hideMenu() {\n    navList.classList.add('is-offscreen');\n    document.body.classList.remove('menu-active');\n    expanded = false;\n    button.classList.remove('is-open');\n\n    navList.addEventListener('transitionend', function onHidden(event) {\n      if (event.propertyName == 'opacity') {\n        transitioning = false;\n        navList.classList.add('is-inactive');\n        navList.removeEventListener('transitionend', onHidden);\n        button.setAttribute('aria-expanded', false);\n        button.setAttribute('aria-label', 'Main Menu');\n      }\n    });\n  }\n\n  function showMenu() {\n    navList.classList.remove('is-inactive');\n    button.classList.add('is-open');\n    window.scroll({\n      top: 0,\n      behavior: 'smooth'\n    });\n\n    requestAnimationFrame(function () {\n      requestAnimationFrame(function () {\n        navList.classList.remove('is-offscreen');\n        button.setAttribute('aria-expanded', true);\n        document.body.classList.add('menu-active');\n        expanded = true;\n        button.setAttribute('aria-label', 'Close Menu');\n\n        navList.addEventListener('transitionend', function onShown(event) {\n          if (event.propertyName == 'opacity') {\n            transitioning = false;\n            navList.removeEventListener('transitionend', onShown);\n          }\n        });\n      });\n    });\n  }\n\n  // navList.addEventListener('transitionend', function(event) {\n\n  //   var expanded = button.getAttribute('aria-expanded') === 'true' || false;\n  //   button.setAttribute('aria-expanded', !expanded);\n\n  // });\n\n  button.addEventListener('click', toggleMenu);\n\n})();\n"],"names":["navigator","userAgent","indexOf","document","documentElement","classList","add","menuLink","querySelector","button","createElement","setAttribute","createButton","overlay","createOverlay","menuLinkParent","parentElement","navList","nextElementSibling","replaceChild","appendChild","transitioning","expanded","addEventListener","body","remove","onHidden","event","propertyName","removeEventListener","window","scroll","top","behavior","requestAnimationFrame","onShown"],"mappings":"0BAAA,WACMA,UAAUC,UAAUC,QAAQ,YAAc,GAC5CC,SAASC,gBAAgBC,UAAUC,IAAI,iBAqBrCC,EAAWJ,SAASK,cAAc,0BAClCC,iBAlBEA,EAASN,SAASO,cAAc,iBACpCD,EAAOJ,UAAUC,IAAI,kCACrBG,EAAOE,aAAa,iBAAiB,GACrCF,EAAOE,aAAa,aAAc,aAClCF,EAAOE,aAAa,gBAAiB,aACrCF,EAAOE,aAAa,KAAM,oBACnBF,EAYIG,GACTC,iBATEA,EAAUV,SAASO,cAAc,gBACrCG,EAAQR,UAAUC,IAAI,wCACtBO,EAAQF,aAAa,eAAe,GACpCE,EAAQF,aAAa,MAAO,oBACrBE,EAKKC,GAEVC,EAAiBR,EAASS,cAC1BC,EAAUF,EAAeG,mBAC7BH,EAAeI,aAAaV,EAAQF,GACpCQ,EAAeK,YAAYP,OAEvBQ,GAAgB,EAChBC,GAAW,EAgEfb,EAAOc,iBAAiB,oBA7DjBF,IACHA,GAAgB,EAEZC,GASNL,EAAQZ,UAAUC,IAAI,gBACtBH,SAASqB,KAAKnB,UAAUoB,OAAO,eAC/BH,GAAW,EACXb,EAAOJ,UAAUoB,OAAO,WAExBR,EAAQM,iBAAiB,iBAAiB,SAASG,EAASC,GAChC,WAAtBA,EAAMC,eACRP,GAAgB,EAChBJ,EAAQZ,UAAUC,IAAI,eACtBW,EAAQY,oBAAoB,gBAAiBH,GAC7CjB,EAAOE,aAAa,iBAAiB,GACrCF,EAAOE,aAAa,aAAc,mBAMtCM,EAAQZ,UAAUoB,OAAO,eACzBhB,EAAOJ,UAAUC,IAAI,WACrBwB,OAAOC,OAAO,CACZC,IAAK,EACLC,SAAU,WAGZC,uBAAsB,WACpBA,uBAAsB,WACpBjB,EAAQZ,UAAUoB,OAAO,gBACzBhB,EAAOE,aAAa,iBAAiB,GACrCR,SAASqB,KAAKnB,UAAUC,IAAI,eAC5BgB,GAAW,EACXb,EAAOE,aAAa,aAAc,cAElCM,EAAQM,iBAAiB,iBAAiB,SAASY,EAAQR,GAC/B,WAAtBA,EAAMC,eACRP,GAAgB,EAChBJ,EAAQY,oBAAoB,gBAAiBM,kBAnFzD"}